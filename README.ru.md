# SmartYard-TT-PWA

Этот проект представляет собой мобильное и веб-приложение — клиент для менеджера задач, интегрированного в проект [RBT](https://github.com/rosteleset/SmartYard-Server). Он создан с использованием **Ionic**, **Vue 3**, **TypeScript**, и **Vite**. Также поддерживаются функции PWA, а **Capacitor** используется для интеграции с нативными функциями устройств.

### Основные технологии

- **Vue 3** с **TypeScript** для фронтенд-разработки.
- **Ionic** для создания адаптивного пользовательского интерфейса.
- **Capacitor** для кроссплатформенной интеграции с функциями устройства.
- **Vite** для быстрой сборки.

### Основные зависимости

- **@ionic/vue** и **@ionic/vue-router** — библиотека компонентов и маршрутизации для Ionic.
- **pinia** — для управления состоянием.
- **vue-i18n** — для интернационализации.
- **leaflet** и **vue-leaflet** — для отображения карт.
- **vite-plugin-pwa** — для поддержки PWA.
- **workbox-core** — для управления кэшированием в PWA.

### Скрипты npm

- **`npm run dev`** — запуск приложения в режиме разработки с Vite.
- **`npm run build`** — сборка приложения для продакшена.
- **`npm run preview`** — предпросмотр собранного проекта.
- **`npm run lint`** — запуск ESLint для проверки кода.

### Установка и запуск

1. **Клонирование репозитория:**

   ```bash
   git clone <URL вашего репозитория>
   cd tt
   ```

2. **Установка зависимостей:**

   Убедитесь, что у вас установлен Node.js (рекомендуемая версия указана в `.nvmrc`, если она присутствует).

   ```bash
   npm install
   ```

3. **Запуск проекта в режиме разработки:**

   ```bash
   npm run dev
   ```

4. **Сборка для продакшена:**

   ```bash
   npm run build
   ```

5. **Предпросмотр собранного проекта:**

   ```bash
   npm run preview
   ```

### Конфигурация Capacitor

В файле `capacitor.config.ts` задается следующая конфигурация для приложения:

- **appId**: `com.rosteleset.tt` — идентификатор приложения.
- **appName**: `tt` — название приложения.
- **webDir**: `dist` — директория, в которую Vite собирает проект для продакшена.

Capacitor используется для взаимодействия с нативными функциями устройства, такими как камера, статус-бар, клавиатура и другие.

### Конфигурация Vite

Файл `vite.config.ts` включает:

- **Плагины**: использование `@vitejs/plugin-legacy` для совместимости со старыми браузерами и `vite-plugin-pwa` для поддержки PWA.
- **Переменные окружения**: настройки загружаются с помощью `loadEnv`, позволяя использовать `.env` файлы для различной конфигурации в зависимости от среды.

### Структура каталогов

- **src/** — основной каталог приложения, содержащий все компоненты, страницы и логику.
- **public/** — статические файлы, которые будут доступны напрямую, такие как изображения и иконки.
- **resources/** — дополнительные ресурсы для проекта, такие как иконки и сплэш-скрины для мобильных приложений.
- **tests/** — папка с тестами для компонентов и функциональности.
- **node_modules/** — установленные зависимости.
- **dev-dist/** — промежуточная сборка, созданная Vite в режиме разработки.

### Переменные окружения

Для конфигурации проекта используются переменные окружения, которые хранятся в файле `.env`. В этом файле определены следующие переменные:

- **VITE_BASE_PATH**: Базовый путь, который используется для префикса всех маршрутов.

- **VITE_SERVER_URL**: URL сервера для выполнения API запросов.

- **VITE_TILE_SERVER**: URL сервера тайлов.

- **VITE_CRS**: Система координат.

- **VITE_DEFAULT_LOCALE**: Язык по умолчанию для приложения.

Чтобы настроить переменные окружения для вашего проекта, выполните следующие шаги:

Скопируйте файл default.env и переименуйте его в .env, используя следующую команду:

```
cp default.env .env
```

В Windows команда будет выглядеть так:

```
copy default.env .env
```

Заполните переменные окружения в файле .env значениями, соответствующими вашей среде разработки.

### Лицензия

Этот проект лицензирован под *

### Дополнительные ресурсы

- [Ionic Documentation](https://ionicframework.com/docs)
- [Capacitor Documentation](https://capacitorjs.com/docs)
- [Vue 3 Documentation](https://v3.vuejs.org/)